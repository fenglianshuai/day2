"use strict";define(["jquery","base64","text!template/read.html","handlebars"],function(d,i,r,l){var n={};function t(i){var c=document.createElement("script");c.src=i,document.head.appendChild(c),window.duokan_fiction_chapter=function(i){var n,t,o,s,a,e=JSON.parse(d.base64("decode",i,!0));document.head.removeChild(c),n=r,t=e,o=d("section"),a=l.compile(n)(t),0===s?o.append(a):o.html(a)}}window.location.search.substr(1).split("&").map(function(i){n[i.split("=")[0]]=i.split("=")[1]}),console.log(n.id),d(".min").html(n.id),d(".max").html(n.maxnum),d.ajax({url:"/api/data"+n.id||1,dataType:"json",success:function(i){t(i.jsonp)}}),d("section").on("click",function(){d(this).siblings().toggle();var i=d(this).data("num");d(this).data("num")?(--i,d(this).data("num",i),d(this).css("overflow","hidden")):(++i,d(this).data("num",i),d(".footer_size").hide(),d(".footer_top").show(),d(this).css("overflow-y","auto"))}),d(".go").on("click",function(){--n.id,n.id<=0?(n.id=1,d(".min").html(n.id),d.ajax({url:"/api/data"+n.id,dataType:"json",success:function(i){t(i.jsonp)}})):(d(".min").html(n.id),d.ajax({url:"/api/data"+n.id,dataType:"json",success:function(i){t(i.jsonp)}}))}),d(".next").on("click",function(){++n.id,n.id>=n.maxnum?(n.id=n.maxnum,d(".min").html(n.id),d.ajax({url:"/api/data"+n.id,dataType:"json",success:function(i){t(i.jsonp)}})):(d(".min").html(n.id),d.ajax({url:"/api/data"+n.id,dataType:"json",success:function(i){t(i.jsonp)}}))}),d(".fontSize").on("click",function(){d(this).parents(".footer_bottom").prev().toggle().prev().toggle()}),d(".maxSize").on("click",function(){var i=parseInt(d(".read_box h2").css("font-size")),n=parseInt(d(".read_box p").css("font-size"));d(".read_box p").css("font-size",++n),d(".read_box h2").css("font-size",++i)}),d(".minSize").on("click",function(){var i=parseInt(d(".read_box h2").css("font-size")),n=parseInt(d(".read_box p").css("font-size"));d(".read_box p").css("font-size",--n),d(".read_box h2").css("font-size",--i)}),d(".footer_size").find(".bom").on("click","span",function(){d("section").css("background",d(this).data("color"))}),d(".list").on("click",function(){window.location.href="catalog.html?id="+n.bookid+"&active="+n.id})});